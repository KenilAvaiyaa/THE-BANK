<!-- templates/edit_loan.html -->
{% extends "base.html" %}

{% block content %}
<h2>Edit Loan</h2>
<form method="POST" action="{{ url_for('edit_loan', loan_number=loan.LoanNumber) }}">
    <div class="form-group">
        <label for="loan_number">Loan Number:</label>
        <input type="number" class="form-control" id="loan_number" name="loan_number" value="{{ loan.LoanNumber }}" readonly>
    </div>
    
    <div class="form-group">
        <label for="amount">Amount:</label>
        <input type="number" step="0.01" class="form-control" id="amount" name="amount" value="{{ loan.Amount }}" required>
    </div>
    
    <div class="form-group">
        <label for="monthly_repayment">Monthly Repayment:</label>
        <input type="number" step="0.01" class="form-control" id="monthly_repayment" name="monthly_repayment" value="{{ loan.MonthlyRepayment }}" required>
    </div>
    
    <div class="form-group">
        <label for="branch_id">Branch ID:</label>
        <select class="form-control" id="branch_id" name="branch_id" required>
            {% for branch in branches %}
                <option value="{{ branch.BranchID }}" {% if branch.BranchID == loan.BranchID %}selected{% endif %}>
                    {{ branch.Name }} (ID: {{ branch.BranchID }})
                </option>
            {% endfor %}
        </select>
    </div>
    
    <button type="submit" class="btn btn-primary">Update Loan</button>
    <a href="{{ url_for('manage_loans') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}